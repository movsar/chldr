@page "/word/edit/{WordId}";
@using chldr_data.Enums.WordDetails;

@inject NavigationManager NavManager;
@inherits WordEditViewModel;

<h3>@Localizer["PageTitle:Edit_word"]</h3>
@if (!string.IsNullOrEmpty(Word?.Content))
{

    <form class="col-6">
        <div class="form-outline mb-2">
            <input type="text" class="form-control" placeholder="@Localizer["Basic_Form"]" @bind="Word.Content" />
        </div>

        <div class="form-outline mb-2">
            <select @bind="@Word.PartOfSpeech" class="form-select">
                @foreach (PartOfSpeech partOfSpeech in (PartOfSpeech[])Enum.GetValues(typeof(PartOfSpeech)))
                {
                    <option value="@partOfSpeech" class="form-control">@Localizer[partOfSpeech.ToString()]</option>
                }
            </select>
        </div>

        @if (Word.PartOfSpeech == PartOfSpeech.Noun)
        {
            <div class="form-outline mb-2">
                <select @bind="@Word.GrammaticalClasses[0]"
                        class="form-select"
                        title="@Localizer["Grammatical_class"]">
                    <option value="1" class="form-control">@Localizer["Class:1_v_b"]</option>
                    <option value="2" class="form-control">@Localizer["Class:2_y_b"]</option>
                    <option value="3" class="form-control">@Localizer["Class:3_y_y"]</option>
                    <option value="4" class="form-control">@Localizer["Class:4_d_d"]</option>
                    <option value="5" class="form-control">@Localizer["Class:5_b_b"]</option>
                    <option value="6" class="form-control">@Localizer["Class:6_b_d"]</option>
                </select>
            </div>
        }

        <div class="form-outline mb-4">
            <input type="text" class="form-control" placeholder="@Localizer["Notes"]" @bind="Word.Notes" />
        </div>

        @foreach (var translation in Translations)
        {
            <TranslationEditView Translation="@translation"></TranslationEditView>
        }

    </form>
}
<div class="mt-3 float-end">
    <button class="btn btn-light" @onclick="@(()=>NavManager.NavigateTo("/"))">Cancel</button>
    <button class="btn btn-primary" @onclick="@Save">Save</button>
    @*<button class="btn btn-primary">Save and add another</button>*@
</div>